<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Geo-Volumen Analyzer üõ∞Ô∏è | Volumen de Paralelep√≠pedo 3D</title>
    <style>
        /* Nuevo Dise√±o: Oscuro y Tecnol√≥gico */
        body { 
            font-family: 'Consolas', 'Courier New', monospace;
            margin: 0; 
            padding: 40px 20px; 
            background-color: #121212;
            color: #e0e0e0;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: #1f1f1f;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
            border: 1px solid #333;
        }
        h1 { 
            color: #00ffc8;
            border-bottom: 2px solid #ff0077;
            padding-bottom: 10px;
            text-align: center;
        }
        h2 { 
            color: #ff0077; 
            margin-top: 25px; 
            border-left: 3px solid #00ffc8;
            padding-left: 10px;
        }
        
        /* Controles de entrada (Dise√±o Vertical) */
        .vector-input { 
            margin-bottom: 15px; 
            border: 1px solid #444; 
            padding: 15px; 
            border-radius: 8px; 
            background-color: #2a2a2a;
            transition: border-color 0.3s;
        }
        .vector-input:hover {
            border-color: #00ffc8;
            box-shadow: 0 0 8px rgba(0, 255, 200, 0.4);
        }
        .vector-input strong {
            color: #00ffc8;
            display: block;
            margin-bottom: 5px;
        }
        .vector-input label {
            display: inline-block;
            width: 25px;
            text-align: right;
            margin-right: 5px;
            color: #ff0077;
        }
        input[type="number"] { 
            width: 70px; 
            padding: 8px;
            border: 1px solid #555;
            border-radius: 4px;
            background-color: #333;
            color: #fff;
            margin-bottom: 5px;
        }
        
        button {
            background-color: #ff0077;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
        }
        button:hover {
            background-color: #cc0060;
            transform: translateY(-2px);
        }

        /* --- NUEVO ESTILO DE RESULTADOS: LISTADO --- */
        .output-list { 
            margin-top: 30px; 
            padding: 10px 0; 
            background-color: #121212; /* M√°s oscuro para contraste */
            border-top: 1px solid #444;
            border-bottom: 1px solid #444;
        }
        .output-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 15px;
            border-bottom: 1px dashed #333; /* Separador sutil */
        }
        .output-item:last-child {
            border-bottom: none;
            font-size: 1.2em;
            background-color: #2a2a2a; /* Resalta el volumen final */
        }
        .output-label { 
            color: #00ffc8; 
            font-weight: bold;
        }
        .output-value {
            color: #ff0077; 
            font-weight: bold;
        }
        
        /* --- NUEVO ESTILO GEOM√âTRICO: TABLA DE VECTORES --- */
        .vector-matrix { 
            font-family: 'Consolas', 'Courier New', monospace; 
            white-space: pre; 
            background-color: #000000;
            color: #00ffc8;
            padding: 15px; 
            border-radius: 6px; 
            margin-top: 15px; 
            overflow-x: auto;
            border: 1px solid #ff0077;
            text-align: center; /* Centra la matriz */
        }

    </style>
</head>
<body>

<div class="container">
    <h1>üõ∞Ô∏è Geo-Volumen Analyzer: Paralelep√≠pedo 3D üõ∞Ô∏è</h1>

    <h2>ENTRADA DE COORDENADAS</h2>
    <div id="inputs">
        <div class="vector-input">
            <strong>P1 (Origen):</strong>
            <label for="P1x">X:</label> <input type="number" id="P1x" value="0"><br>
            <label for="P1y">Y:</label> <input type="number" id="P1y" value="0"><br>
            <label for="P1z">Z:</label> <input type="number" id="P1z" value="0">
        </div>
        <div class="vector-input">
            <strong>P2 (Vector a):</strong>
            <label for="P2x">X:</label> <input type="number" id="P2x" value="3"><br>
            <label for="P2y">Y:</label> <input type="number" id="P2y" value="0"><br>
            <label for="P2z">Z:</label> <input type="number" id="P2z" value="0">
        </div>
        <div class="vector-input">
            <strong>P3 (Vector b):</strong>
            <label for="P3x">X:</label> <input type="number" id="P3x" value="0"><br>
            <label for="P3y">Y:</label> <input type="number" id="P3y" value="2"><br>
            <label for="P3z">Z:</label> <input type="number" id="P3z" value="0">
        </div>
        <div class="vector-input">
            <strong>P4 (Vector c):</strong>
            <label for="P4x">X:</label> <input type="number" id="P4x" value="0"><br>
            <label for="P4y">Y:</label> <input type="number" id="P4y" value="0"><br>
            <label for="P4z">Z:</label> <input type="number" id="P4z" value="4">
        </div>
    </div>
    
    <button onclick="calcularVolumen()">EJECUTAR AN√ÅLISIS VOLUM√âTRICO</button>

    <div class="output-list">
        <h2>INFORME DE C√ÅLCULO</h2>
        
        <div class="output-item">
            <span class="output-label">TRIPLE PRODUCTO ESCALAR (DET):</span>
            <span id="resultado_det" class="output-value"></span>
        </div>
        
        <div class="output-item">
            <span class="output-label">VOLUMEN DEL PARALELEP√çPEDO:</span>
            <span id="resultado_volumen" class="output-value" style="color: #00ffc8;"></span>
        </div>
    </div>

    <h2 style="margin-top: 30px;">MATRIZ DE VECTORES BASE (a, b, c)</h2>
    <pre id="vector_matrix_display" class="vector-matrix">Presione "EJECUTAR" para ver la matriz 3x3.</pre>
    
    <h2 style="margin-top: 30px;">DETALLE DE VECTORES (Log)</h2>
    <pre id="grafico_textual" class="vector-matrix" style="color:#ff0077; border-color:#00ffc8;"></pre>
</div>

<script>
    // ===============================================
    // L√ìGICA DE C√ÅLCULO (Sin Cambios)
    // ===============================================

    function calcularTripleProductoEscalar(a, b, c) {
        // C√°lculo del determinante 3x3: a . (b x c)
        const termino1 = a[0] * (b[1] * c[2] - b[2] * c[1]);
        const termino2 = a[1] * (b[0] * c[2] - b[2] * c[0]);
        const termino3 = a[2] * (b[0] * c[1] - b[1] * c[0]);
        return termino1 - termino2 + termino3;
    }

    function obtenerPunto(prefix) {
        const x = parseFloat(document.getElementById(prefix + 'x').value);
        const y = parseFloat(document.getElementById(prefix + 'y').value);
        const z = parseFloat(document.getElementById(prefix + 'z').value);
        return { x, y, z };
    }
    
    // ===============================================
    // NUEVA L√ìGICA DE VISUALIZACI√ìN
    // ===============================================

    function dibujarVerticesTextual(P1, P2, P3, P4, a, b, c) {
        // Detalle de vectores como un LOG de datos
        return `
[LOG] C√ÅLCULO DE VECTORES ARISTAS:
---------------------------------------------
[A] Vector a = P2 - P1: < ${a[0].toFixed(2)}, ${a[1].toFixed(2)}, ${a[2].toFixed(2)} >
[B] Vector b = P3 - P1: < ${b[0].toFixed(2)}, ${b[1].toFixed(2)}, ${b[2].toFixed(2)} >
[C] Vector c = P4 - P1: < ${c[0].toFixed(2)}, ${c[1].toFixed(2)}, ${c[2].toFixed(2)} >
---------------------------------------------
P1(${P1.x}, ${P1.y}, ${P1.z}) - P4(${P4.x}, ${P4.y}, ${P4.z})
`;
    }

    function dibujarMatrizDeVectores(a, b, c) {
        const format = (n) => n.toFixed(2).padStart(6, ' ');
        
        // Simulaci√≥n de la matriz 3x3
        return `
    | ${format(a[0])}  ${format(a[1])}  ${format(a[2])} |  <-- Vector a
Det | ${format(b[0])}  ${format(b[1])}  ${format(b[2])} |  <-- Vector b
    | ${format(c[0])}  ${format(c[1])}  ${format(c[2])} |  <-- Vector c
`;
    }

    // ===============================================
    // FUNCI√ìN PRINCIPAL
    // ===============================================

    function calcularVolumen() {
        // --- 1. Obtener Puntos y Calcular Vectores ---
        const P1 = obtenerPunto('P1');
        const P2 = obtenerPunto('P2');
        const P3 = obtenerPunto('P3');
        const P4 = obtenerPunto('P4');

        const vector_a = [P2.x - P1.x, P2.y - P1.y, P2.z - P1.z];
        const vector_b = [P3.x - P1.x, P3.y - P1.y, P3.z - P1.z];
        const vector_c = [P4.x - P1.x, P4.y - P1.y, P4.z - P1.z];

        // --- 2. Calcular Volumen ---
        const triple_producto = calcularTripleProductoEscalar(vector_a, vector_b, vector_c);
        const volumen = Math.abs(triple_producto);

        // --- 3. Mostrar Resultados (Listado de Datos) ---
        document.getElementById('resultado_det').textContent = triple_producto.toFixed(4);
        document.getElementById('resultado_volumen').textContent = volumen.toFixed(4) + ' u¬≥';
        
        // --- 4. Mostrar Matriz y Log de Vectores ---
        const logVectores = dibujarVerticesTextual(P1, P2, P3, P4, vector_a, vector_b, vector_c);
        document.getElementById('grafico_textual').textContent = logVectores;

        const matrizVectores = dibujarMatrizDeVectores(vector_a, vector_b, vector_c);
        document.getElementById('vector_matrix_display').textContent = matrizVectores;
    }

    // Ejecutar al cargar
    window.onload = calcularVolumen;
</script>
</body>
</html>
